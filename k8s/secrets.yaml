apiVersion: v1
kind: Secret
metadata:
  name: app-secrets
  namespace: dynaclaimz
type: Opaque
stringData:
  # JWT Configuration
  JWT_SECRET: "your-secret-key-here-change-in-production"
  JWT_EXPIRES_IN: "7d"
  
  # Database Connection Strings
  # These should be populated from AWS Secrets Manager after deployment
  # Use external-secrets operator or manual update from terraform output
  USER_DB_URL: "postgresql://user:pass@host:5432/user_db?schema=public"
  POLICY_DB_URL: "postgresql://user:pass@host:5432/policy_db?schema=public"
  CLAIMS_DB_URL: "postgresql://user:pass@host:5432/claims_db?schema=public"
  QUOTES_DB_URL: "postgresql://user:pass@host:5432/quotes_db?schema=public"

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: app-config
  namespace: dynaclaimz
data:
  # Application Configuration
  NODE_ENV: "production"
  PORT_API_GATEWAY: "3000"
  PORT_USER_SERVICE: "3001"
  PORT_POLICY_SERVICE: "3003"
  PORT_CLAIMS_SERVICE: "3004"
  PORT_QUOTES_SERVICE: "3005"
  
  # Service URLs (internal cluster DNS)
  USER_SERVICE_URL: "http://user-service:3001"
  POLICY_SERVICE_URL: "http://policy-service:3003"
  CLAIMS_SERVICE_URL: "http://claims-service:3004"
  QUOTES_SERVICE_URL: "http://quotes-service:3005"
  
  # Rate Limiting
  RATE_LIMIT_WINDOW_MS: "60000"
  RATE_LIMIT_MAX_REQUESTS: "1000"
  
  # CORS
  ALLOWED_ORIGINS: "https://app.dynaclaimz.com,https://admin.dynaclaimz.com"
  
  # Proxy Configuration
  PROXY_TIMEOUT: "5000"
  
  # Logging
  LOG_LEVEL: "info"
